(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b22a"],{"20cK":function(e,t,l){"use strict";var a=l("KrW/");l.n(a).a},Ad61:function(e,t,l){"use strict";var a=l("HYx/");l.n(a).a},BKBN:function(e,t,l){"use strict";var a=l("flx0");l.n(a).a},"HYx/":function(e,t,l){},"KrW/":function(e,t,l){},PrjC:function(e,t,l){"use strict";var a=l("FyfS"),i=l.n(a),o={props:{newTagTitle:String,newTagInput:String,bgColorProps:String},data:function(){return{colorList:["#53D397","#20C1BD","#58DADA","#0FC9E7","#3498DB","#4586FF","#8983F3","#AEA1EA","#FF6699","#F24D70","#FF6F6F"],input:this.newTagInput,showBgColor:""}},watch:{bgColorProps:function(e){this.showBgColor=e||"#53D397"}},mounted:function(){this.showBgColor=this.bgColorProps||"#53D397"},methods:{back:function(){this.$emit("back")},close:function(){this.$emit("close")},changeColor:function(e){this.$emit("changeColor",e)},tagCreateSubmit:function(){this.$emit("tagCreateSubmit",this.input,this.showBgColor)},tagCancel:function(){this.$emit("tagCancel")}}},n=(l("BKBN"),l("KHd+")),s=Object(n.a)(o,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"new-tag-dialog"},[l("div",{staticClass:"title"},[l("span",{staticClass:"el-icon-arrow-left",on:{click:e.back}}),e._v(" "),l("span",[e._v(e._s(e.newTagTitle))]),e._v(" "),l("span",{staticClass:"el-icon-close rt",on:{click:e.close}})]),e._v(" "),l("div",{staticClass:"search"},[l("el-input",{attrs:{maxlength:10,size:"mini",placeholder:"输入标签名，最多十个字符"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),l("span",{staticClass:"checked-color",style:{background:e.showBgColor}})],1),e._v(" "),l("div",{staticClass:"color-box"},e._l(e.colorList,function(t,a){return l("span",{key:a,style:{background:t},on:{click:function(l){e.changeColor(t)}}})})),e._v(" "),l("div",{staticClass:"footer"},[l("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.tagCreateSubmit}},[e._v("保存")]),e._v(" "),l("el-button",{attrs:{size:"medium"},on:{click:e.tagCancel}},[e._v("取消")])],1)])},[],!1,null,"b8f3e1f0",null);s.options.__file="newTag.vue";var r=s.exports,c={props:{editTagList:Array},data:function(){return{inputModel:"",list:this.editTagList}},watch:{inputModel:function(e){this.list=this.editTagList.filter(function(t){return t.name.indexOf(e)>-1})}},methods:{back:function(){this.$emit("back")},close:function(){this.$emit("close")},deleteBtn:function(e){this.$emit("deleteBtn",e)},editBtn:function(e){this.$emit("editBtn",e)}}},d=(l("Ad61"),Object(n.a)(c,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"edit-tag-dialog"},[l("div",{staticClass:"title"},[l("span",{staticClass:"el-icon-arrow-left",on:{click:e.back}}),e._v(" "),l("span",[e._v("标签管理")]),e._v(" "),l("span",{staticClass:"el-icon-close rt",on:{click:e.close}})]),e._v(" "),l("div",{staticClass:"search"},[l("el-input",{attrs:{maxlength:10,size:"mini",placeholder:"输入标签名，最多十个字符"},model:{value:e.inputModel,callback:function(t){e.inputModel=t},expression:"inputModel"}})],1),e._v(" "),l("div",{staticClass:"content"},e._l(e.list,function(t,a){return l("div",{key:a,staticClass:"tag-list"},[l("span",{staticClass:"tag-name",style:{background:t.color?t.color:"#ccc"}},[e._v("\n        "+e._s(t.name.length>10?t.name.substring(0,10)+"...":t.name)+"\n      ")]),e._v(" "),l("div",{staticClass:"rt"},[l("span",{staticClass:"el-icon-edit",on:{click:function(l){e.editBtn(t)}}}),e._v(" "),l("span",{staticClass:"el-icon-delete",on:{click:function(l){e.deleteBtn(t)}}})])])}))])},[],!1,null,"8364fd04",null));d.options.__file="editTag.vue";var f=d.exports,u=l("UinD"),h=l("F/D6"),p={components:{NewTag:r,EditTag:f},props:{taskData:{type:Object,default:function(){return{}}},placement:String},data:function(){return{tagShow:!1,tagContent:0,tagInputChange:"",editTagList:[],particularsTagList:[],particularsTagListCopy:[],newTagTitle:"",newTagInput:"",bgColorProps:"",editTagId:"",popoverWidth:"220"}},watch:{tagInputChange:function(e){this.particularsTagList=this.particularsTagListCopy.filter(function(t){return t.name.indexOf(e)>-1})}},mounted:function(){},methods:{createTagFun:function(){this.newTagTitle="创建新标签",this.newTagInput="",this.tagContent=1,this.popoverWidth="330"},editBtn:function(e){this.editTagId=e.labelId,this.newTagTitle="编辑标签",this.tagContent=3,this.bgColorProps=e.color,this.newTagInput=e.name},managementTag:function(){this.popoverWidth="400",this.tagContent=2},tagBtn:function(e,t){var l=this,a=t.filter(function(t){return e.check?t.check&&t.labelId!=e.labelId:t.check||t.labelId==e.labelId});for(var i in e.check?Object(h.j)({taskId:this.taskData.taskId,labelId:a.map(function(e){return e.labelId}).join(",")}).then(function(t){var a=l.taskData.labelList;for(var i in a)if(e.labelId==a[i].labelId){a.splice(i,1);break}e.check=!1}):Object(h.j)({taskId:this.taskData.taskId,labelId:a.map(function(e){return e.labelId}).join(",")}).then(function(t){e.check=!0,e.labelName=e.name,l.taskData.labelList.push(e)}),t)t[i].labelId==e.labelId?document.getElementsByClassName("tag-list")[i].style.background="#F7F8FA":document.getElementsByClassName("tag-list")[i].style.background="#FFF"},changeColor:function(e){this.bgColorProps=e},tagClose:function(){this.tagShow=!1},tagCreateSubmit:function(e,t){var l=this,a=this;"创建新标签"==this.newTagTitle?Object(u.e)({name:e,color:t}).then(function(e){l.tagClose(),l.tagListFun(),l.$message.success("创建成功")}):Object(u.e)({name:e,labelId:this.editTagId,color:t}).then(function(o){var n=!0,s=!1,r=void 0;try{for(var c,d=i()(a.editTagList);!(n=(c=d.next()).done);n=!0){var f=c.value;f.labelId==a.editTagId&&(f.name=e,f.color=t)}}catch(e){s=!0,r=e}finally{try{!n&&d.return&&d.return()}finally{if(s)throw r}}l.tagContent=2})},tagCancel:function(){"创建新标签"==this.newTagTitle?(this.tagClose(),this.$message.info("已取消创建")):this.tagContent=2},back:function(){"创建新标签"==this.newTagTitle?(this.tagContent=0,this.popoverWidth="220"):"编辑标签"==this.newTagTitle&&3==this.tagContent?this.tagContent=2:2==this.tagContent&&(this.tagContent=0,this.popoverWidth="220")},deleteBtn:function(e){var t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"is-particulars"}).then(function(){t.tagShow=!0,t.managementTag(),Object(u.a)({labelId:e.labelId}).then(function(l){for(var a in t.editTagList)t.editTagList[a].labelId==e.labelId&&t.editTagList.splice(a,1);t.$message({type:"success",message:"删除成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"}),t.tagShow=!0,t.managementTag()})},tagListFun:function(){var e=this;Object(u.c)().then(function(t){var l=!0,a=!1,o=void 0;try{for(var n,s=i()(t.data);!(l=(n=s.next()).done);l=!0){var r=n.value;if(e.taskData.labelList){var c=!0,d=!1,f=void 0;try{for(var u,h=i()(e.taskData.labelList);!(c=(u=h.next()).done);c=!0){if(u.value.labelId==r.labelId){r.check=!0;break}r.check=!1}}catch(e){d=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(d)throw f}}}}}catch(e){a=!0,o=e}finally{try{!l&&s.return&&s.return()}finally{if(a)throw o}}e.editTagList=t.data,e.particularsTagList=t.data,e.particularsTagListCopy=t.data})},referenceFun:function(){this.tagContent=0,this.editTagList&&!this.editTagList.length&&this.tagListFun()}}},g=(l("20cK"),Object(n.a)(p,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"edit-index"},[l("el-popover",{attrs:{placement:e.placement,width:e.popoverWidth,trigger:"click"},model:{value:e.tagShow,callback:function(t){e.tagShow=t},expression:"tagShow"}},[0==e.tagContent?l("div",{staticClass:"tag-popover-box"},[l("div",{staticClass:"tag-top"},[l("span",[e._v("选择标签")]),e._v(" "),l("span",{staticClass:"el-icon-close rt cursor-pointer",on:{click:function(t){e.tagShow=!1}}})]),e._v(" "),l("el-input",{attrs:{placeholder:"搜索标签","prefix-icon":"el-icon-search",size:"small"},model:{value:e.tagInputChange,callback:function(t){e.tagInputChange=t},expression:"tagInputChange"}}),e._v(" "),l("div",{staticClass:"tag-content"},e._l(e.particularsTagList,function(t,a){return l("div",{key:a,staticClass:"tag-list",on:{click:function(l){e.tagBtn(t,e.particularsTagList)}}},[l("i",{staticClass:"wukong wukong-black-label",style:{color:t.color}}),e._v(" "),l("span",{staticClass:"item-label"},[e._v(e._s(t.name))]),e._v(" "),t.check?l("span",{staticClass:"el-icon-check rt"}):e._e()])})),e._v(" "),l("div",{staticClass:"tag-footer"},[l("p",{staticClass:"footer-row cursor-pointer",on:{click:e.createTagFun}},[l("span",{staticClass:"el-icon-plus"}),e._v(" "),l("span",[e._v("创建新标签")])]),e._v(" "),l("p",{staticClass:"footer-row cursor-pointer",on:{click:e.managementTag}},[l("span",{staticClass:"el-icon-setting"}),e._v(" "),l("span",[e._v("标签管理")])])])],1):1==e.tagContent?l("new-tag",{attrs:{"new-tag-title":e.newTagTitle,"new-tag-input":e.newTagInput,"bg-color-props":e.bgColorProps},on:{changeColor:e.changeColor,close:e.tagClose,tagCreateSubmit:e.tagCreateSubmit,tagCancel:e.tagCancel,back:e.back}}):2==e.tagContent?l("editTag",{attrs:{"edit-tag-list":e.editTagList},on:{back:e.back,close:e.tagClose,editBtn:e.editBtn,deleteBtn:e.deleteBtn}}):3==e.tagContent?l("new-tag",{attrs:{"new-tag-title":e.newTagTitle,"new-tag-input":e.newTagInput,"bg-color-props":e.bgColorProps},on:{changeColor:e.changeColor,close:e.tagClose,tagCreateSubmit:e.tagCreateSubmit,tagCancel:e.tagCancel,back:e.back}}):e._e(),e._v(" "),l("span",{attrs:{slot:"reference"},on:{click:e.referenceFun},slot:"reference"},[e._t("editIndex")],2)],1)],1)},[],!1,null,"34720cec",null));g.options.__file="tagIndex.vue";t.a=g.exports},PxHo:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAMRJREFUOE/tlDEOgkAQRf/f1sJ4A1qlMBYewBNICafwCngDD2CtlHIDj0AjtBzB2FjBmDWiMYBsADu2nfnvz/xkluj5sWce3kCJPQeUeckgVyHtQ2Rq/ARK7O0AbGpFwoUp9AV0rwDHdcAsU7jdR5VlMl9NlvtzUSwmlKaVNLSqSTFPlUIE4VZvYQxsMoRISDtw+gMC4OzIAdgY/c+GIcNu+Wn1J8OLewK57oT8upTEtSDwAVrtoJKC8DkN0v99sO0mK6seYWhdFe5uKWkAAAAASUVORK5CYII="},RKx3:function(e,t,l){},flx0:function(e,t,l){},i1fH:function(e,t,l){"use strict";var a=l("RKx3");l.n(a).a},n2WF:function(e,t,l){"use strict";l.r(t);var a={name:"App",components:{Upload:function(){return l.e("chunk-662a").then(l.bind(null,"3oVh"))},relatedBusiness:function(){return l.e("chunk-4530").then(l.bind(null,"1RnH"))},TagIndex:l("PrjC").a},data:function(){return{menuKey:1,historyVersionData:[],downloadAction:"//file/downFile?fileId=72",activeName:"first",pageCurrent:1,pageSize:10,pageTotal:0,allData:{},relevanceAll:{},drawer:!1,dialogCreateStatus:!1,dialogMoveStatus:!1,dialogRenameStatus:!1,dialogRenameFileStatus:!1,dialogMoveFileStatus:!1,folderCreateNameOut:void 0,folderCreateNameInner:void 0,folderCreateNamePid:0,batchId:"",fileTableData:[],fileRowData:{},folderSelect:{batchId:"",createTime:"",createUserId:3,folderCode:"ADMINISTRATION",folderId:void 0,folderName:"",folderMovePid:"",folderUploadPid:"",folderMoveName:"",folderReName:"",folderPid:void 0},fileSelect:{fileIds:void 0},fileSelectData:[],fileRenameOld:void 0,fileRenameNew:void 0,fileMovefolderId:void 0,fileDetailLogTable:[],filePath:"",tmDisplay:!1,rightMenu:{},filterText:"",folderListData:[],defaultProps:{children:"list",label:"folderName"},versionData:{}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this.retriveFolderList()},mounted:function(){},methods:{getDetail:function(){var e=this;this.$request.post("/work/getWorkById",{workId:this.$route.params.id}).then(function(t){e.batchId=t.data.batchId,e.retriveFolderList()}).catch(function(){})},checkInfos:function(e){this.relevanceAll=e,console.log("checkInfos",e)},handleClick:function(){},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){++this.menuKey,console.log("选中的文件夹",e),this.folderSelect.batchId=e.batchId,this.folderSelect.folderId=e.folderId,this.folderSelect.folderUploadPid=e.folderId,this.retriveFileList()},handleNodeMoveClick:function(e){console.log("选中移动的文件夹",e),this.folderMoveName=e.folderName,this.folderSelect.batchId=e.batchId,this.folderSelect.folderMovePid=e.folderPid},handleNodeMoveFileClick:function(e){console.log("选中移动的文件",e),this.fileMovefolderId=e.folderId},handleContextmenu:function(e,t,l,a){console.log("e:",e,"data",t),this.folderSelect.batchId=t.batchId,this.folderSelect.folderId=t.folderId,this.folderSelect.folderPid=t.folderPid,this.folderSelect.folderName=t.folderName,this.folderCreateNamePid=t.folderId,this.rightMenu={top:e.pageY+"px",left:e.pageX+"px"},this.tmDisplay=!0;var i=this;document.onclick=function(e){e.target!==document.getElementById("perTreeMenu")&&(i.tmDisplay=!1)}},handleSelectionChange:function(e){this.fileSelectData=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.pageCurrent=e,this.retriveFileList()},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageSize=e,this.retriveFileList()},uploadStatus:function(e){console.log("关闭弹窗",e),this.retriveFileList()},retriveFolderList:function(){var e=this;this.$request.post("/folder/queryFolder").then(function(t){console.log(t),e.folderListData=t.data}).catch(function(e){console.log("retriveFolderList err",e)})},createFolder:function(e,t){var l=this;void 0===e?this.$message.error("请输入文件名"):this.$request.post("/folder/createFolder?folderName="+e+"&folderCode=CONTRACTUAL&folderPid="+t+"&batchId="+this.batchId).then(function(e){console.log(e),l.folderName="",l.folderListData=e.data,l.dialogCreateStatus=!1,l.folderCreateNameOut="",l.folderCreateNameInner="",l.retriveFolderList()}).catch(function(e){console.log("retriveFolderList err",e)})},deleteFolder:function(){var e=this;this.$request.post("/folder/deleteFolder?folderId="+this.folderSelect.folderId).then(function(t){console.log("删除文件夹",t),e.retriveFolderList()}).catch(function(e){console.log("删除文件夹 err",e)})},moveFolder:function(){var e=this;this.$request.post("/folder/mobileFolder?folderId="+this.folderSelect.folderId+"&folderPid="+this.folderSelect.folderMovePid).then(function(t){console.log("移动文件夹",t),e.retriveFolderList()}).catch(function(e){console.log("移动文件夹 err",e)})},updateFolder:function(){var e=this;this.$request.post("/folder/renameFolder?folderId="+this.folderSelect.folderId+"&folderName="+this.folderSelect.folderReName).then(function(t){console.log("updateFolder",t),e.dialogRenameStatus=!1,e.folderSelect.folderReName=void 0,e.retriveFolderList()}).catch(function(e){console.log("retriveFolderList err",e)})},retriveFileList:function(){var e=this;this.$request.post("/file/getFileList?folderId="+this.folderSelect.folderId+"&delFlag=0&orderBy=2,",{page:this.pageCurrent,limit:this.papgeSize}).then(function(t){console.log("查询附件文件",t),e.fileTableData=t.data.list,e.pageTotal=t.data.totalRow}).catch(function(e){console.log("/file/getFileList err",e)})},retriveFileDetail:function(e){var t=this;this.fileRowData=e,this.versionData=e,this.$request.post("/file/queryFileInfo?fileId="+e.fileId).then(function(l){console.log("文件详情",l),t.drawer=!0,t.fileSelect=l.data,t.historyVersionData=l.data.historyFileList,t.$request.post("/file/queryFolderPathById?fileId="+e.fileId).then(function(e){console.log("文件路径",e.data),t.filePath=e.data}),t.retriveFileDetailLog()}).catch(function(e){console.log("/file/getFileList err",e)})},retriveFileDetailLog:function(){var e=this;this.$request.post("/file/queryFileLog?fileId="+this.fileRowData.fileId).then(function(t){console.log("文件操作记录",t),e.fileDetailLogTable=t.data.list}).catch(function(e){console.log("/file/getFileList err",e)})},renameFile:function(){this.dialogRenameFileStatus=!0,this.fileRenameOld=this.fileSelectData[0].compositionName},renameFileCommit:function(){var e=this;this.fileSelectData.length>1?this.$message.error("请选择一个文件"):this.$request.post("/file/renameFile?fileId="+this.fileSelectData[0].fileId+"&compositionName="+this.fileRenameNew).then(function(t){console.log("文件重命名",t),e.$message.success("重命名成功"),e.dialogRenameFileStatus=!1,e.retriveFileList()}).catch(function(e){console.log("renameFile err",e)})},moveFile:function(){var e=this,t=[];this.fileSelectData.forEach(function(e,l){t.push(e.fileId)}),this.fileSelect.fileIds=t.join(","),console.log("移动附件",t.join(",")),this.$request.post("/file/mobileFiles?fileIds="+this.fileSelect.fileIds+"&folderId="+this.fileMovefolderId).then(function(t){console.log("文件删除",t),e.$message.success("移动成功"),e.dialogMoveFileStatus=!1,e.retriveFileList()}).catch(function(e){console.log("/file/getFileList err",e)})},deleteFile:function(){var e=this,t=[];this.fileSelectData.forEach(function(e,l){t.push(e.fileId)}),this.fileSelect.fileIds=t.join(","),console.log("加入回收站",t.join(",")),this.$request.post("/file/addRecycleByIds?fileIds="+this.fileSelect.fileIds).then(function(t){console.log("文件删除",t),e.$message.success("删除成功"),e.retriveFileList()}).catch(function(e){console.log("/file/getFileList err",e)})},downloadFile:function(){null==this.fileRowData.fileId?alert(123):this.$request({method:"post",url:"/file/downFile?fileId="+this.fileRowData.fileId,responseType:"blob"}).then(function(e){console.log("下载文件",e);var t=new Blob([e.data],{type:e.headers["content-type"]}),l=document.createElement("a"),a=window.URL.createObjectURL(t);l.href=a,l.download="xxx.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a)}).catch(function(e){console.log("/file/getFileList err",e)})},downloadMultiFile:function(){null==this.fileRowData.fileId?alert(123):this.$request({method:"post",url:"/file/downFile?fileId="+this.fileRowData.fileId,responseType:"blob"}).then(function(e){console.log("下载文件",e);var t=new Blob([e.data],{type:e.headers["content-type"]}),l=document.createElement("a"),a=window.URL.createObjectURL(t);l.href=a,l.download="xxx.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a)}).catch(function(e){console.log("/file/getFileList err",e)})}}},i=(l("i1fH"),l("KHd+")),o=Object(i.a)(a,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[e._m(0),e._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"ls-tree-l"},[a("div",{staticClass:"ls-tree-search"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createFolder(e.folderCreateNameInner,0)}}},[e._v("创建")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:e.folderCreateNameInner,callback:function(t){e.folderCreateNameInner=t},expression:"folderCreateNameInner"}})],1),e._v(" "),a("div",{staticClass:"ls-tree-content"},[a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.folderListData,props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":!1},on:{"node-click":e.handleNodeClick,"node-contextmenu":e.handleContextmenu},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("span",{},[a("span",{staticStyle:{color:"black"}},[a("img",{attrs:{src:l("PxHo"),alt:""}}),e._v("\n                "+e._s(i.folderName)+"\n              ")])])}}])})],1),e._v(" "),e.tmDisplay?a("div",{staticClass:"tree_menu",style:Object.assign({},e.rightMenu),attrs:{id:"perTreeMenu"}},[a("ul",[a("li",[a("span",{on:{click:function(t){e.dialogRenameStatus=!0}}},[e._v("重命名")])]),e._v(" "),a("li",[a("span",{on:{click:function(t){e.dialogMoveStatus=!0}}},[e._v("移动")])]),e._v(" "),a("li",[a("span",{on:{click:function(t){e.dialogCreateStatus=!0}}},[e._v("创建")])]),e._v(" "),a("li",[a("span",{on:{click:e.deleteFolder}},[e._v("删除")])])])]):e._e()])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"ls-tree-r"},[a("div",{staticClass:"ls-tree-r-header"},[a("Upload",{key:e.menuKey,attrs:{"folder-id":e.folderSelect.folderId},on:{uploadStatus:e.uploadStatus}}),e._v(" "),a("el-button",{on:{click:e.renameFile}},[e._v("重命名")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogMoveFileStatus=!0}}},[e._v("移 动")]),e._v(" "),a("el-button",{on:{click:e.deleteFile}},[e._v("删 除")])],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogMoveFileStatus,title:"移动附件",width:"30%"},on:{"update:visible":function(t){e.dialogMoveFileStatus=t}}},[a("el-tree",{ref:"tree",staticClass:"filter-tree",staticStyle:{margin:"20px 0 0 0"},attrs:{data:e.folderListData,props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":!1},on:{"node-click":e.handleNodeMoveFileClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("span",{},[a("span",{staticStyle:{color:"black"}},[a("img",{attrs:{src:l("PxHo")}}),e._v("\n                "+e._s(i.folderName)+"\n              ")])])}}])}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogMoveFileStatus=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.moveFile}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogRenameFileStatus,title:"重命名",width:"50%"},on:{"update:visible":function(t){e.dialogRenameFileStatus=t}}},[a("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:e.fileRenameOld,callback:function(t){e.fileRenameOld=t},expression:"fileRenameOld"}}),e._v(" "),a("span",[e._v("重命名")]),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:e.fileRenameNew,callback:function(t){e.fileRenameNew=t},expression:"fileRenameNew"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogRenameStatus=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.renameFileCommit}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"ls-tree-r-content"},[a("el-table",{staticStyle:{height:"92%"},attrs:{data:e.fileTableData,border:""},on:{"selection-change":e.handleSelectionChange}},[e._v("\n            >\n            "),a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"oldName",label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(l){e.retriveFileDetail(t.row)}}},[e._v(e._s(t.row.oldName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"compositionName",label:"附件类型文件名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"size",label:"大小",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"更新时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createUserName",label:"上传者",width:"100"}})],1),e._v(" "),a("div",{staticClass:"ls-pagination"},[a("el-pagination",{attrs:{"current-page":e.pageCurrent,"page-sizes":[2,10,20],"page-size":e.pageSize,total:e.pageTotal,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogCreateStatus,title:"创建文件夹",width:"15%"},on:{"update:visible":function(t){e.dialogCreateStatus=t}}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:e.folderCreateNameOut,callback:function(t){e.folderCreateNameOut=t},expression:"folderCreateNameOut"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogCreateStatus=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createFolder(e.folderCreateNameOut,e.folderCreateNamePid)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogMoveStatus,title:"移动文件夹",width:"30%"},on:{"update:visible":function(t){e.dialogMoveStatus=t}}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:e.folderSelect.folderName,callback:function(t){e.$set(e.folderSelect,"folderName",t)},expression:"folderSelect.folderName"}}),e._v(" "),a("span",[e._v("移动至")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:e.folderSelect.folderMoveName,callback:function(t){e.$set(e.folderSelect,"folderMoveName",t)},expression:"folderSelect.folderMoveName"}}),e._v(" "),a("el-tree",{ref:"tree",staticClass:"filter-tree",staticStyle:{margin:"20px 0 0 0"},attrs:{data:e.folderListData,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeMoveClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("span",{},[a("span",{staticStyle:{color:"black"}},[a("img",{attrs:{src:l("PxHo")}}),e._v("\n          "+e._s(i.folderName)+"\n        ")])])}}])}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogMoveStatus=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.moveFolder}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogRenameStatus,title:"重命名文件夹",width:"30%"},on:{"update:visible":function(t){e.dialogRenameStatus=t}}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:e.folderSelect.folderName,callback:function(t){e.$set(e.folderSelect,"folderName",t)},expression:"folderSelect.folderName"}}),e._v(" "),a("span",[e._v("重命名")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:e.folderSelect.folderReName,callback:function(t){e.$set(e.folderSelect,"folderReName",t)},expression:"folderSelect.folderReName"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogRenameStatus=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateFolder}},[e._v("确 定")])],1)],1),e._v(" "),a("el-drawer",{attrs:{visible:e.drawer,"with-header":!1,"destroy-on-close":!0,size:"70%"},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticStyle:{padding:"30px"}},[a("div",{staticClass:"ls-drawertitle"},[a("div",{staticClass:"ls-drawertitle-l"},[e._v("\n          所属文件夹：/"+e._s(e.filePath)+"/"+e._s(e.fileSelect.compositionName)+"\n          ")]),e._v(" "),a("div",{staticClass:"ls-drawertitle-r"},[a("Upload",{key:e.menuKey,attrs:{"folder-id":e.folderSelect.folderId,"version-data":e.versionData},on:{uploadStatus:e.uploadStatus}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.downloadFile}},[e._v("下 载")]),e._v(" "),a("span",[e._v("丨")]),e._v(" "),a("span",{on:{click:function(t){e.drawer=!1}}},[a("i",{staticClass:"el-icon-close"})])],1)]),e._v(" "),a("div",{staticClass:"ls-drawerform"},[a("div",{staticClass:"ls-drawerform-header"},[a("i",{staticClass:"el-icon-notebook-1"}),e._v("   基本信息\n        ")]),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"创建人："}},[a("span",[e._v(e._s(e.fileSelect.createName))])]),e._v(" "),a("el-form-item",{attrs:{label:"文件名："}},[a("span",[e._v(e._s(e.fileSelect.fileName))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"版本号："}},[a("span",[e._v(e._s(e.fileSelect.fileVersion))])]),e._v(" "),a("el-form-item",{attrs:{label:"文件大小："}},[a("span",[e._v(e._s(e.fileSelect.size))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"文件类型："}},[a("span",[e._v(e._s(e.fileSelect.fileType))])]),e._v(" "),a("el-form-item",{attrs:{label:"文件类型名："}},[a("span",[e._v(e._s(e.fileSelect.compositionName))])])],1)],1)],1)],1),e._v(" "),a("related-business",{attrs:{"all-data":e.allData,"margin-left":"0"},on:{checkInfos:e.checkInfos}}),e._v(" "),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"操作日志",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileDetailLogTable,border:""}},[a("el-table-column",{attrs:{prop:"content",label:"操作记录",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"操作时间",width:"300"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"历史版本",name:"second"}},[a("el-timeline",e._l(e.historyVersionData,function(t,l){return a("el-timeline-item",{key:l,attrs:{timestamp:t.createTime}},[a("div",[e._v("文件名："+e._s(t.oldName))]),e._v(" "),a("div",[e._v("附件名："+e._s(t.compositionName))]),e._v(" "),a("div",[e._v("文件版本："+e._s(t.fileVersion))]),e._v(" "),a("div",[e._v("备注："+e._s(t.fileRemark))])])}))],1)],1)],1)])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ls-header"},[this._v("\n    网盘管理\n    "),t("span",{staticClass:"grep"})])}],!1,null,"7a97d714",null);o.options.__file="index.vue";t.default=o.exports}}]);