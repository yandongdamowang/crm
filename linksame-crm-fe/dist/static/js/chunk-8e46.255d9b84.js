(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8e46"],{"49Lw":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAABHNCSVQICAgIfAhkiAAAAhBJREFUSEvVlT9oE3EUxz8v1WhrdClCHRSUKqiLTi4WUooQbaWgtqBdTKRIqUg3HRQKdbBbhgqC/eNSKtRFLLRLMaEuHVRwqEM7dQoKLg1o0zQ/efl5XhIvudAmQ39w3N27e9/Pe9/34074u8ITZhWh1bmv9tzcxK/jR3gQvyaTXjmSDxoj4Sly1YoWvnfsMFw5BV9/0B+PyHipRk0AXWdgM+sNqRlAK1fI5xQDY53y0ulk14DmJrhx1jWmFGIBQHjSmJ3MQHMUEmxwszPbZL8FOLTSK5ldd1C2KKExEZXfdQM0pjk4/1A26wb4HuJARYueddjmnyy6JnjF4lchlYbnS8Vm+QIirfCoDdqn3MS5PnvdNW3PoSC874PRJVhYKwZsbBH8dF+2ylrkJD9dhI/rcKEF7l60olrt2k+4fAJGOuD6NKQzJeM+yf5Eu2QrzkDbV6GxZSvuVJ3agLcr8LjNAgtt/IepBnDrHNw8D7dnQWEKUkGFDc3Dmx54/eV/exRyNMS+2V7ZrthBSwhmeqD/nQU43n+I2tir7jL2AIl1GhiWnO82He+2/urhWKG7SeEa0068VtUAtWnwUvFOcWIvlu0sPAFRAogY3w600shpWFi1+12XV6wUkohJXtsXUPZb4/NgbwMMmGRMAnWzqP4AQy55T/K/IPePNmHmEDp3OtTCPAMzyZjcKQLUQthL4w8Qr/0aLwkgLgAAAABJRU5ErkJggg=="},F6sh:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAeFJREFUSEvtlr9LW1EUx7/3vvtCM/hazVDkBUylDh1cBH9gS3VoBcEtU7vUDKVu7dK/QCenuummS4tgnAoBnUSEpEMQOmQw6JI3GGiGZHilybun3BOjVF6C1aCLb7m/3rmf8/2ee3lP4Oz5k3myLiDetcZXbUk5NRntf69eZDbDYkRrsp4ZpKtu+s97kRjo0ShJ/+RNGKQ7gN5JgOqhkO4BjKwQyI0BpBwgNnXh2iXIjQGcuHIgpH0OIV2vRV4fOmaiK4Cww2HPHvPe94C2V+fuLBJuEiLqAvUqdHmXW/F4BuSlgagL0TfBfdE3ztlTJQc5kALsHpBfAnnbPN9WgTX2Fbq4AigHMpFC8PMz1Ng3NPZeQj79COkmuW8NL0Of7kLGk6BfOehKFlYiBV3JcQIdAcGPt5wFZ2aOmvMM2kszAH4JQXEFamQNjYM5qOffuWV1D1zQbw/wvf8DGOkiNg4RjUOX0uf9IL8Ao9gkZCwz6sj32IHOFh19AWwH1tAnNPIfuA7q1SF0YQna24Ka3kdQWGQrrJFV6NMdULUAaepiP+wMaBY5flbkHZbLNpnsKlkeG+t0+WKtWWSnGeNtAY1aewXX+iaEBN3dPbhX0HLg9mtw3d+WsJoRaCMyezJv1v4CbksWKBhXB7UAAAAASUVORK5CYII="},GdeY:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAABHNCSVQICAgIfAhkiAAAAZFJREFUSEtjZICCqDOzNzAwMPjD+MTSImzcn5W4xFILVFxWYtPDiGTBf2INRVYnwcHP4Cqq+f/m55eR2CyhigXe4roMv/79wWoJ1SwA+QqbJRRbIMzKzRAgZQgPNXRLKLYAZDLIElZmFrglf/79+TxJL4oPJEAVC7AljmUmqWCzB94CeU4hBk5mNoZH398xfPv7C+xYLmY2BjlOIYbvf38xPPz+DmvqJtoHIAvatIIYznx4yNB/dzfYsFhZCwYPMR2GlltbGa5/fk6ZBSDdwVJGDEGSRgx9d3eDfVGj5s2w7vk5hrXPzuHMm0T7AGZCjbo3gxynMMO3vz8Z3vz6wtBycyvejE+yBaBwn20QBzY09cIieHzgsoVkC2DBBDKQUPCA1JBkgSavJDzcQT4hFMEkWQAycIJuBDjcq66tAyfRGnUfBhE2HoaCyytwBhXRPgC51kRQnmHxo+PwNA9KurFylgxn3j9k2PHqCuXJlJx6gmgfkGM4SXEwagFdi2uymi044mjjMpPUAJQKh9zIJKQPAEVj3hqfgfDxAAAAAElFTkSuQmCC"},HdpG:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAYlJREFUSEvtlbFLAlEcxz+vpCEHG3R2CcHFQXdddWoQGk4chYImN8FBUFpEpS0wWsRbQmh19A9w1aFJ11yzIdH4eYpm1rtL3Xpw3N2733uf3/f7+z1OsRgzw3gBzpfvtu9u9ztnZzeqXH7ctkbJ5AwUhjG1vel6oMcDwSAMBhlVqTxs7rEfQCgEHx9bIfsDSOpbILsD3G4Ih1fOWJBrVancy+QcMK+DYcz+VANZJBCXa7V8MplQr58omO2u4KesAoFjVShM7QMiEbi6glwORiO92D8BkkloNKDfPwBAel0UFIsHUuD1wt0dpFL67CXCNI+cF7nZhEwGxmM9xDEgGoV4HF5foVY7AOD2FkolyOeh04F2+3eIIwWSvd8PrRYs23UwsKySS57l29pQpjk/AvpzcHoKkv1waNnT61ldJEWPxeDtzYJI+zoGSGum09DtfstQVwS9ArEikQCfzzq9djrHkYJs1vK9WrU8djj0ChxuuBn+D9Aa+MWixR/tGbjQrrQX8KRM81JCPwEq1sMZrY45mQAAAABJRU5ErkJggg=="},OsuN:function(t,e,a){},VWNw:function(t,e,a){"use strict";a.r(e);var l=a("SP+9"),r={name:"DialogPayment",components:{Upload:function(){return a.e("chunk-650d").then(a.bind(null,"odM5"))}},props:{drawerData:{type:Number,default:void 0},rowData:{type:Object,default:void 0},drawerStatus:{type:Boolean,default:void 0}},data:function(){return{menuKey:1,pageCurrent:1,pageSize:5,pageTotal:0,pmpContractData:{},batchId:"",activeName:"annex",paymentTableData:[],receivableTableData:[],recordTableData:[],fileTableData:[],examineTableData:[]}},computed:{},mounted:function(){this.retriveContactDetail(),this.retrivePaymentDetail(),this.retriveReceivableDetail(),this.retriveRecordDetail(),this.retriveExamineDetail(),++this.menuKey,console.log("rowData",this.rowData)},methods:{closeDrawer:function(){this.$emit("drawerStatus",!1)},handleCurrentChange:function(t){console.log("当前页: "+t),this.pageCurrent=t,this.retriveFileList()},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.pageSize=t,this.retriveFileList()},deleteContract:function(){var t=this;this.$confirm("此操作将永久删除该合同, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.a)({contractIds:t.drawerData}).then(function(e){t.$message({type:"success",message:"删除成功!"}),console.log(e),t.$router.push("/contract/contract")}).catch(function(){})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},retriveContactDetail:function(){var t=this;Object(l.b)({contractId:this.drawerData}).then(function(e){console.log("合同详情",e),t.pmpContractData=e.pmpContract,t.batchId=t.pmpContractData.batchId,t.$request.post("/file/getFileList?batchId="+t.batchId+"&delFlag=0&orderBy=2",{page:t.pageCurrent,limit:t.papgeSize}).then(function(e){console.log("查询附件文件",e),t.fileTableData=e.data.list,t.pageTotal=e.data.totalRow}).catch(function(t){console.log("/file/getFileList err",t)})}).catch(function(){})},retrivePaymentDetail:function(){var t=this;this.$request.post("/pmpContractPayment/queryPaymentDetail",{contractId:this.drawerData}).then(function(e){console.log("付款明细",e),t.paymentTableData=e.paymentDetails}).catch(function(){})},retriveReceivableDetail:function(){var t=this;this.$request.post("/pmpReceivableRecords/queryByContractId",{contractId:this.drawerData}).then(function(e){console.log("回款明细",e),t.receivableTableData=e.data}).catch(function(){})},retriveRecordDetail:function(){var t=this;this.$request.post("/CrmRecord/queryRecordList",{actionId:this.drawerData,types:6}).then(function(e){console.log("操作记录",e),t.recordTableData=e.data}).catch(function(){})},retriveExamineDetail:function(){var t=this;this.$request.post("/examineRecord/queryExamineLogList",{recordId:this.rowData.examineRecordId}).then(function(e){console.log("审批记录",e),t.examineTableData=e.data}).catch(function(){})}}},n=(a("YDe+"),a("KHd+")),o=Object(n.a)(r,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"ls-drawertitle"},[l("div",{staticClass:"ls-drawertitle-l"},[t._v(t._s(t.pmpContractData.contractNumber))]),t._v(" "),l("div",{staticClass:"ls-drawertitle-r"},[l("el-dropdown",{staticClass:"ls-drawertitle-dropdown"},[l("span",[l("i",{staticClass:"el-icon-more"})]),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",[""!=t.batchId?l("Upload",{key:t.menuKey,attrs:{"batch-id":t.batchId}}):t._e()],1),t._v(" "),l("el-dropdown-item")],1)],1),t._v(" "),l("span",[t._v("丨")]),t._v(" "),l("span",{on:{click:t.closeDrawer}},[l("i",{staticClass:"el-icon-close"})])],1)]),t._v(" "),l("div",{staticClass:"ls-drawerform"},[t._m(0),t._v(" "),l("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"left"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"合同类型："}},[l("span",[t._v("1191111-REC-工程-S1-珠海一键")])]),t._v(" "),l("el-form-item",{attrs:{label:"合同采购时间："}},[l("span",[t._v(t._s(t.pmpContractData.contractPurchaseStartTime))])]),t._v(" "),l("caption"),t._v(" "),l("el-form-item",{attrs:{label:"合同编号："}},[l("span",[t._v(t._s(t.pmpContractData.contractNumber))])]),t._v(" "),l("el-form-item",{attrs:{label:"经办人："}},[l("span",[t._v(t._s(t.pmpContractData.agent))])]),t._v(" "),l("el-form-item",{attrs:{label:"里程碑："}},[l("span",[t._v(t._s(t.pmpContractData.agent))])])],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"合同名称："}},[l("span",[t._v(t._s(t.pmpContractData.contractName))])]),t._v(" "),l("el-form-item",{attrs:{label:"承包商："}},[l("span",[t._v(t._s(t.pmpContractData.supplierId))])]),t._v(" "),l("el-form-item",{attrs:{label:"DRP采购单号："}},[l("span",[t._v(t._s(t.pmpContractData.purchaseOrderNumber))])]),t._v(" "),l("el-form-item",{attrs:{label:"合同到期时间："}},[l("span",[t._v(t._s(t.pmpContractData.contractPurchaseEndTime))])])],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"签署时间："}},[l("span",[t._v(t._s(t.pmpContractData.actualSigningTime))])]),t._v(" "),l("el-form-item",{attrs:{label:"合同金额："}},[l("span",[t._v(t._s(t.pmpContractData.money))])]),t._v(" "),l("el-form-item",{attrs:{label:"合同开始时间："}},[l("span",[t._v(t._s(t.pmpContractData.contractPurchaseStartTime))])])],1)],1)],1)],1),t._v(" "),l("div",{staticClass:"ls-drawerbox"},[l("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"附件",name:"annex"}},[l("el-table",{staticStyle:{height:"50%"},attrs:{data:t.fileTableData}},[t._v("\n          >\n          "),l("el-table-column",{attrs:{fixed:"",prop:"oldName",label:"文件名"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{on:{click:function(a){t.retriveFileDetail(e.row)}}},["pdf"==e.row.suffix?l("img",{attrs:{src:a("HdpG")}}):"dwg"==e.row.suffix?l("img",{attrs:{src:a("F6sh")}}):"zip"==e.row.suffix||"rar"==e.row.suffix?l("img",{attrs:{src:a("cDjF")}}):"xls"==e.row.suffix||"xlsx"==e.row.suffix?l("img",{attrs:{src:a("GdeY")}}):"png"==e.row.suffix||"jpg"==e.row.suffix?l("img",{attrs:{src:a("bk+t")}}):"docx"==e.row.suffix||"doc"==e.row.suffix?l("img",{attrs:{src:a("49Lw")}}):l("img",{attrs:{src:a("fxJc")}}),t._v("\n                "+t._s(e.row.oldName)+"\n              ")])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"compositionName",label:"附件类型文件名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"size",label:"大小",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"createUserName",label:"上传者",width:"100"}})],1),t._v(" "),l("div",{staticClass:"ls-pagination"},[l("el-pagination",{attrs:{"current-page":t.pageCurrent,"page-sizes":[2,10,20],"page-size":t.pageSize,total:t.pageTotal,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"付款明细",name:"first"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.paymentTableData}},[l("el-table-column",{attrs:{prop:"paymentTime",label:"预计付款时间",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{prop:"paymentClause",label:"款项",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{prop:"advanceRatio",label:"比例"}}),t._v(" "),l("el-table-column",{attrs:{prop:"amountAdvanced",label:"金额"}}),t._v(" "),l("el-table-column",{attrs:{prop:"practicalRatio",label:"实际支付比例"}}),t._v(" "),l("el-table-column",{attrs:{prop:"f",label:"实际支付金额"}}),t._v(" "),l("el-table-column",{attrs:{prop:"g",label:"关联项目任务"}}),t._v(" "),l("el-table-column",{attrs:{prop:"tradeStatus",label:"状态"}}),t._v(" "),l("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"回款信息",name:"third"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.receivableTableData}},[l("el-table-column",{attrs:{prop:"collectingCompany",label:"客户"}}),t._v(" "),l("el-table-column",{attrs:{prop:"collectionAccount",label:"收款账户"}}),t._v(" "),l("el-table-column",{attrs:{prop:"collectionBank",label:"开户行",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"collectionNumber",label:"收款银行卡号",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"receivableAmount",label:"回款金额",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"createdTime",label:"回款时间",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"paymentMethod",label:"付款方式",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"agent",label:"经办人",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"remark",label:"备注",width:"150"}})],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"操作记录",name:"record"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.recordTableData}},[l("el-table-column",{attrs:{prop:"createTime",label:"操作时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"content",label:"记录"}}),t._v(" "),l("el-table-column",{attrs:{prop:"realname",label:"操作人员"}})],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"审批记录",name:"approve"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.examineTableData}},[l("el-table-column",{attrs:{prop:"realname",label:"审核人"}}),t._v(" "),l("el-table-column",{attrs:{prop:"remarks",label:"备注"}}),t._v(" "),l("el-table-column",{attrs:{prop:"examineTime",label:"审核时间"}})],1)],1)],1)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ls-drawerform-header"},[e("i",{staticClass:"el-icon-notebook-1"}),this._v("   基本信息\n    ")])}],!1,null,"05b2b28e",null);o.options.__file="DrawerDetail.vue";e.default=o.exports},"YDe+":function(t,e,a){"use strict";var l=a("OsuN");a.n(l).a},"bk+t":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAWxJREFUSEvtlj9OAkEUxr8PGqIhcAMxoZeGZKmEG2htISYegEroxA620RvoEewsxWq30ERuADfAC+wzM7usCxncWXYTG6eZZPLm++37O0tES0ZOHwHvQdTXZ1b7Qe0DTeeaF+NPkz1jwNBZAaxZiSaNDusIGu1VqVzqmSAJQEcyi6sLCnDcBgRGSHEABTNA8gMqVQRN58f5LUh+gJKuVIFyOQl55+1LWx0UAzAkj1NPa2cAyDzU4YlNMWQEyJxTv6XzeOPMQJ6mQbIBRN7o+t0I8ATyslhAWIIPYYQwCHe5QsAxiCNjB2fPQUJGsKTrNfR4ET7mAwiWgPpqGcSxp/Q48WdhyDoLkxf2ORCc0/WetZgeiOjS9fvxDNvhhR0gkdzfkmqqLAuAfIFoceIv0ipGRk4XwtekXTpA5I6uP04Tj0O11R/pAFvlHXb/gNQA/kWI9nz0Tb5Eo2TzPdAdqQbaHn8WGxDdP2frUfINKxnBGVGyRxYAAAAASUVORK5CYII="},cDjF:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAfJJREFUSEu1lcFLG0EUxr+3G6NJNjbx0KSnXKwWD0L1kFvAiwhCvfUg9KaVFrQo9GbKov4JRaSIOfTQswfvkoskEMUclNoeTL00h4ISNYnO7pRZ3DYtO0OC7uxhd2bfvN+8b+a9Idy12kr6mAjP3H67bx7ua6A3+S46m/vkNYfEIOegq7W03a7TVjvemwQbGAOdld/EXm9t/O9DCdBTI9BSz8HPf4KVdzz5DmBoAmBNT4gSEMzMoCszA7uyj/rnt2qA+OsB8QSEXq1DS43gNr+Jm/ymUjkejoMNT/21YU0EfhzOR+dyH8WgAxDtcjXN3e/A8CS02BOny8WjkMixCceBQHcrxDLoIkpLe/V7SyQLL9JTN+h9+coTEBxfhJboh105gFXZB2/UYFe/dXTIIhaLkFm6lgL0xFPHOTstAc3LhwW4S23nFEklimhh6R48jETVEJmnDf8kevSrhxa+N/07RVatm8yjG0+AyAOKJSFKhZ4aVWaydA8esyDNlW6VmexOVpUKKcAKdZG5y/wDDBYC9BKWFCBywG1CKlmxk0dQ0MmELQW0OhTFr2PAckEjAvdPIhVAH8xATwz8id6qnsD6mu+oFhnZgrP4e1+ZMqrPAM6NbFHzLwLObeNDUf/nRqutprcJeNGR0FJj/sXIFqfF799JzVIoNCta0wAAAABJRU5ErkJggg=="},fxJc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAWBJREFUSEtjZICCrSeubWBgZPSH8YmleThYP4vy8aRqKUqsxKaHEW7Byev/iTUUWR0/FzuDprTg/5cff0Zis4QqFujKCTP8+fsPqyVUswDkK2yWUGwBDwcrg4GCKDzU0C2h2AKQySBLmJmY4Jb8/ffvs72+Ch9IgCoWYEsc3uaaYLMHjwUyIvwM0qL8YMe++/SN4fbTN3hTNUk+UJAQZNCSE2d48OI92FAQH8S+9uglTktIssBGR5Hh07cfDJfuPQcbaKwqw8DKwsRw4voj6lggxMvF8P3nb4bvv36DDXQ0UGb49PUnw9nbT6hjAbIpekqSDBKCvAwnrj9k+PTtJ3UtAMWDjCg/QcNBtpIUBzBnWmjKMXz7+RseF/iSEVkWiAvygOMCX9DALCXLAi8zDYZ3n7/hTT0UWQDywe8//8CWEAJk+YCQocjyoxYQDK0BCCIymy1YvfL//0ZvC60AkBwAcXbOGcSf9EgAAAAASUVORK5CYII="}}]);