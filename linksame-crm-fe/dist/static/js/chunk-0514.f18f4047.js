(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0514"],{"V8w/":function(e,t,a){},"qf+I":function(e,t,a){"use strict";a.r(t);var o=a("gDS+"),n=a.n(o),l=a("SP+9"),r={name:"DialogPayment",components:{},props:{status:{type:Boolean,default:void 0}},data:function(){return{tableData:[{date:"2016-05-03",address:"设计清单"}],options:[{value:"zhinan",label:"DP设计类",children:[{value:"shejiyuanze",label:"建筑设计"},{value:"daohang",label:"精装修设计"},{value:"daohang",label:"燃气设计"}]}],dialogVisible:!1,dialogVisibleMilestone:!1,moneyMax:0,form:{contractType:"",contractName:"",contractNumber:"",contractPurchaseStartTime:"",contractPurchaseEndTime:"",beginTime:"",endTime:"",supplierId:void 0,agent:void 0,drpNumber:"",money:1e6,pmpContractPayments:[{payment_name:"",cost_percentage:void 0,money:1e6,payment_node:""}]}}},computed:{},watch:{moneyMax:function(){console.log(this.moneyMax)}},mounted:function(){},methods:{computeMoney:function(e){this.moneyMax+=parseInt(e)},createContact:function(){var e=this;console.log(this.form),Object(l.a)(n()(this.form)).then(function(t){console.log(t),e.$message({type:"success",message:"添加成功!"}),e.$router.push("/contract/contract")}).catch(function(){})},detailpmpContractPayments:function(e,t){console.log(e),"delete"==e?this.form.pmpContractPayments.splice(t,1):this.form.pmpContractPayments.push({payment_name:"",cost_percentage:50,money:void 0,payment_node:""})}}},m=(a("zSQY"),a("KHd+")),c=Object(m.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-divider",{attrs:{"content-position":"left"}},[e._v("基本信息")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属合同类型"}},[a("el-select",{attrs:{placeholder:"请选合同类型"},model:{value:e.form.contractType,callback:function(t){e.$set(e.form,"contractType",t)},expression:"form.contractType"}},[a("el-option",{attrs:{label:"类型一",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"类型二",value:"beijing"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"合同名称"}},[a("el-input",{model:{value:e.form.contractName,callback:function(t){e.$set(e.form,"contractName",t)},expression:"form.contractName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同编号"}},[a("el-input",{attrs:{placeholder:"请输入合同编号"},model:{value:e.form.contractNumber,callback:function(t){e.$set(e.form,"contractNumber",t)},expression:"form.contractNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同采购时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",align:"right"},model:{value:e.form.contractPurchaseStartTime,callback:function(t){e.$set(e.form,"contractPurchaseStartTime",t)},expression:"form.contractPurchaseStartTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同开始日期"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",align:"right"},model:{value:e.form.beginTime,callback:function(t){e.$set(e.form,"beginTime",t)},expression:"form.beginTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同结束日期"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",align:"right"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"承包商"}},[a("el-select",{attrs:{placeholder:"请选合同承包商"},model:{value:e.form.supplierId,callback:function(t){e.$set(e.form,"supplierId",t)},expression:"form.supplierId"}},[a("el-option",{attrs:{label:"承包商一",value:"11"}}),e._v(" "),a("el-option",{attrs:{label:"承包商二",value:"11"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"经办人"}},[a("el-select",{attrs:{placeholder:"请选合同经办人"},model:{value:e.form.agent,callback:function(t){e.$set(e.form,"agent",t)},expression:"form.agent"}},[a("el-option",{attrs:{label:"经办人一",value:"12"}}),e._v(" "),a("el-option",{attrs:{label:"经办人二",value:"12"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"DRP采购单号"}},[a("el-input",{attrs:{placeholder:"请输入单号"},model:{value:e.form.drpNumber,callback:function(t){e.$set(e.form,"drpNumber",t)},expression:"form.drpNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同金额"}},[a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("支付方式")]),e._v(" "),e._l(e.form.pmpContractPayments,function(t,o){return a("el-form",{key:o,ref:"form",refInFor:!0,attrs:{model:e.form,inline:!0,"label-width":" 25px"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"款项"},model:{value:e.form.pmpContractPayments[o].payment_name,callback:function(t){e.$set(e.form.pmpContractPayments[o],"payment_name",t)},expression:"form.pmpContractPayments[index].payment_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"--"}},[a("el-input",{attrs:{placeholder:"支付比例"},model:{value:e.form.pmpContractPayments[o].cost_percentage,callback:function(t){e.$set(e.form.pmpContractPayments[o],"cost_percentage",t)},expression:"form.pmpContractPayments[index].cost_percentage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"--"}},[a("el-input",{attrs:{placeholder:"支付金额"},on:{input:function(t){e.computeMoney(e.form.pmpContractPayments[o].money)}},model:{value:e.form.pmpContractPayments[o].money,callback:function(t){e.$set(e.form.pmpContractPayments[o],"money",t)},expression:"form.pmpContractPayments[index].money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"--"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",align:"right"},model:{value:e.form.pmpContractPayments[o].payment_node,callback:function(t){e.$set(e.form.pmpContractPayments[o],"payment_node",t)},expression:"form.pmpContractPayments[index].payment_node"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){e.detailpmpContractPayments("delete",o)}}})],1)],1)}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailpmpContractPayments("add")}}},[e._v("增加付款方式")]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisibleMilestone,"before-close":e.handleClose,title:"新建里程碑节点",data:"",width:"300px","append-to-body":""},on:{"update:visible":function(t){e.dialogVisibleMilestone=t}}},[a("el-input",{attrs:{placeholder:"请输入节点名称"},model:{value:e.form.p,callback:function(t){e.$set(e.form,"p",t)},expression:"form.p"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("创 建")])],1)],1)],2)},[],!1,null,"5d3b5af5",null);c.options.__file="DialogCreate.vue";t.default=c.exports},zSQY:function(e,t,a){"use strict";var o=a("V8w/");a.n(o).a}}]);