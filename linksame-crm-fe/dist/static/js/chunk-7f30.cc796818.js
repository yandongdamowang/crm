(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7f30"],{Y1zc:function(e,t,i){"use strict";i.r(t);var l={name:"App",components:{},data:function(){return{fileTableData:[],fileSelect:{fileIds:void 0},fileSelectData:[],pageCurrent:1,pageTotal:1,pageSize:10,dialogCreate:!1,form:{typeName:void 0,typeCode:void 0}}},watch:{},created:function(){},mounted:function(){this.retriveFileList()},methods:{retriveFileList:function(){var e=this;this.$request.post("/file/getFileList?delFlag=1&orderBy=2",{page:this.pageCurrent,limit:this.papgeSize}).then(function(t){console.log("查询附件文件",t),e.fileTableData=t.data.list,e.pageTotal=t.data.totalRow}).catch(function(e){console.log("/file/getFileList err",e)})},handleSelectionChange:function(e){this.fileSelectData=e},rollbackFileType:function(){var e=this,t=[];this.fileSelectData.forEach(function(e,i){t.push(e.fileId)}),this.fileSelect.fileIds=t.join(","),console.log("还原文件",t.join(",")),this.$request.post("/file/removeRecycleByIds?fileIds="+this.fileSelect.fileIds,{}).then(function(t){console.log("还原文件",t),e.retriveFileList()}).catch(function(e){console.log("/file/getFileList err",e)})},handleCurrentChange:function(e){console.log("当前页: "+e),this.pageCurrent=e,this.retriveFileList()},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageSize=e,this.retriveFileList()}}},a=(i("tV67"),i("KHd+")),o=Object(a.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{height:"100%"}},[e._m(0),e._v(" "),i("div",{staticClass:"ls-box"},[i("div",[i("span",[i("el-button",{attrs:{type:"primary"},on:{click:e.rollbackFileType}},[e._v("还 原")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.retriveFileList}},[e._v("刷 新")])],1)]),e._v(" "),i("el-table",{staticStyle:{margin:"20px 0 0 0"},attrs:{data:e.fileTableData,"header-cell-style":{background:"#F5F7FA",color:"#606266"},border:"",height:"80%"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"",prop:"oldName",label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{on:{click:function(i){e.retriveFileDetail(t.row)}}},[e._v(e._s(t.row.oldName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"compositionName",label:"附件类型文件名"}}),e._v(" "),i("el-table-column",{attrs:{prop:"size",label:"大小",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"更新时间",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createUserName",label:"上传者",width:"100"}})],1),e._v(" "),i("div",{staticClass:"ls-pagination"},[i("el-pagination",{attrs:{"current-page":e.pageCurrent,"page-sizes":[2,10,20],"page-size":e.pageSize,total:e.pageTotal,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogCreate,title:"新建类型",width:"30%"},on:{"update:visible":function(t){e.dialogCreate=t}}},[i("div",[e._v("\n        文件类型：\n        "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入文件类型"},model:{value:e.form.typeName,callback:function(t){e.$set(e.form,"typeName",t)},expression:"form.typeName"}})],1),e._v(" "),i("br"),e._v(" "),i("div",[e._v("\n        文件 Code：\n        "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入文件 Code"},model:{value:e.form.typeCode,callback:function(t){e.$set(e.form,"typeCode",t)},expression:"form.typeCode"}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")])],1)])],1)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ls-header"},[this._v("\n    回收站\n    "),t("span",{staticClass:"grep"})])}],!1,null,"15f592e8",null);o.options.__file="index.vue";t.default=o.exports},pSXF:function(e,t,i){},tV67:function(e,t,i){"use strict";var l=i("pSXF");i.n(l).a}}]);